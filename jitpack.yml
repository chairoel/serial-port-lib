jdk: openjdk17

before_install:
  # Set SDK path & add sdkmanager to PATH
  - export ANDROID_HOME=/opt/android-sdk-linux
  - export ANDROID_SDK_ROOT=/opt/android-sdk-linux
  - export SDKMANAGER="${ANDROID_HOME}/cmdline-tools/latest/bin/sdkmanager"

  # Accept all licenses
  - yes | "${SDKMANAGER}" --licenses

  # Install the components your build requires
  - "${SDKMANAGER}" "platforms;android-36" "build-tools;34.0.0" "cmake;3.22.1" "ndk;28.0.12433566"

install:
  # Build only library modules & publish to mavenLocal JitPack
  - ./gradlew -Pgroup=com.github.chairoel -Pversion=$VERSION :serial-port:clean :serial-port:assembleRelease :serial-port:publishReleasePublicationToMavenLocal